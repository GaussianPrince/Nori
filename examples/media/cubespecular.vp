
struct Out
{
  float4 position : POSITION;
  float3 viewpos;
  float3 normal;
};

Out main(uniform float4x4 MVP, uniform float4x4 MV, in float3 position, in float3 normal)
{
  Out result;

  result.position = mul(MVP, float4(position, 1));
  result.viewpos = normalize(mul(MV, float4(position, 1)));
  result.normal = mul(MV, float4(normal, 0));
  return result;
}

